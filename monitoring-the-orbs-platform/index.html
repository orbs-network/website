<!DOCTYPE html><html><head><title>Monitoring the Orbs Platform</title><link rel="shortcut icon" href="../assets/img/common/favicon.ico" type="image/x-icon"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description"/><meta property="og:locale"/><meta property="og:locale:alternate"/><meta property="og:type" content="website"/><meta property="og:title" content="Monitoring the Orbs Platform"/><meta property="og:description"/><meta property="og:url" content="https://www.orbs.com/"/><meta property="og:site_name" content="Orbs"/><meta property="og:image" content="../assets/img/meta/Orbs-Twitter-Post.png"/><meta property="og:image:secure_url" content="../assets/img/meta/Orbs-Twitter-Post.png"/><meta property="og:image:width" content="1024"/><meta property="og:image:height" content="512"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:description"/><meta name="twitter:title" content="Monitoring the Orbs Platform"/><meta name="twitter:site" content="@orbs_network"/><meta name="twitter:image" content="../assets/img/meta/Orbs-Twitter-Post.png"/><meta name="twitter:creator" content="@orbs_network"/><meta name="google-site-verification" content="4GBadCDqEPfribk9lcTcWcjKVyjjIusfdC0H2FYojDw"/><script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script><script async="" src="https://platform.twitter.com/widgets.js" charSet="utf-8"></script><link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/><link rel="stylesheet" href="../assets/css/index.css"/></head><div class="app-loader" style="opacity:0"><img src="../assets/img/common/app-loader.png"/></div><body style="background:#191919"><div style="opacity:0" class="app-wrapper"><div class="navbar"><div class="main-grid navbar-flex"><div class="navbar-top flex-between"><div class="menu-burger flex-start"><button class="menu-burger-toggle navbar-burger-open" aria-label="menu-toggle"><img src="../assets/img/common/menu.svg" class="menu-burger-img" alt="menu-toggle"/></button><a href=".." class="logo" rel="noopener"><img src="../assets/img/common/logo.svg" alt="orbs logo"/></a></div><section class="navbar-top-right"><a rel="noreferrer" href="../blog" class="navbar-top-action-btn blog-btn">+ blog</a><button class="navbar-top-action-btn subscribe-btn" aria-label="subscribe">+ subscribe to updates</button><ul class="navbar-top-flags flex-start"><li><a href=".." rel="noopener"><img src="../assets/img/navbar/usa.svg"/></a></li><li><a href="../ko" rel="noopener"><img src="../assets/img/navbar/korea.svg"/></a></li><li><a href="../jp" rel="noopener"><img src="../assets/img/navbar/japan.svg"/></a></li></ul></section></div><div class="navbar-menu" style="display:none"><section class="navbar-menu-overlay"></section><div class="navbar-menu-content"><div class="navbar-menu-content-wrapper"><div class="navbar-menu-content-header flex-between"><div class="menu-burger flex-start"><button class="menu-burger-toggle navbar-burger-close" aria-label="menu-toggle"><img src="../assets/img/common/close.svg" class="menu-burger-img" alt="menu-toggle"/></button><a href=".." class="logo" rel="noopener"><img src="../assets/img/common/logo.svg" alt="orbs logo"/></a></div><ul class="socials"><li class="socials-element"><a href="https://twitter.com/orbs_network" target="_blank" rel="noopener"><img src="../assets/img/socials/twitter.svg"/></a></li><li class="socials-element"><a href="https://t.me/OrbsNetwork" target="_blank" rel="noopener"><img src="../assets/img/socials/telegram.svg"/></a></li><li class="socials-element"><a href="https://discord.gg/sswGDYGBt5" target="_blank" rel="noopener"><img src="../assets/img/socials/discord.svg"/></a></li><li class="socials-element"><a href="https://github.com/orbs-network/" target="_blank" rel="noopener"><img src="../assets/img/socials/github.svg"/></a></li></ul></div><ul class="navbar-menu-mobile-flags flex-start"><li><a href=".." rel="noopener"><img src="../assets/img/navbar/usa.svg"/></a></li><li><a href="../ko" rel="noopener"><img src="../assets/img/navbar/korea.svg"/></a></li><li><a href="../jp" rel="noopener"><img src="../assets/img/navbar/japan.svg"/></a></li></ul><button class="mobile-subscribe subscribe-btn" aria-label="subscribe">+ subscribe to updates</button><div class="navbar-menu-flex"><section class="navbar-menu-links"><h4 class="navbar-menu-links-title">Overview</h4><div><a target="" class="navbar-menu-links-link" href="../network"><figure></figure><p class="navbar-menu-links-link-text">The Orbs Network</p></a><a target="" class="navbar-menu-links-link" href="../pos-universe"><figure></figure><p class="navbar-menu-links-link-text">Proof of stake Universe</p></a></div></section><section class="navbar-menu-links"><h4 class="navbar-menu-links-title">About</h4><div><a target="" class="navbar-menu-links-link" href="../white-papers"><figure></figure><p class="navbar-menu-links-link-text">Whitepapers</p></a><a target="" class="navbar-menu-links-link" href="../team"><figure></figure><p class="navbar-menu-links-link-text">Team</p></a><a target="" class="navbar-menu-links-link" href="../ecosystem"><figure></figure><p class="navbar-menu-links-link-text">Orbs ecosystem</p></a><a target="" class="navbar-menu-links-link" href="../faq"><figure></figure><p class="navbar-menu-links-link-text">Faq</p></a><a target="" class="navbar-menu-links-link" href="../blog"><figure></figure><p class="navbar-menu-links-link-text">Blog</p></a><a target="_blank" class="navbar-menu-links-link" href="https://www.hexa.org/"><figure></figure><p class="navbar-menu-links-link-text">Hexa foundation</p></a><a target="" class="navbar-menu-links-link" href="../contact"><figure></figure><p class="navbar-menu-links-link-text">Contact</p></a></div></section><section class="navbar-menu-links navbar-menu-resources"><h4 class="navbar-menu-links-title">Resources</h4><ul class="navbar-menu-links-list navbar-menu-resources-list"><li class="navbar-menu-resources-box flex-column list-item"><a href="https://staking.orbs.network/" class="flex-column" rel="noopener" target="_blank"><h5 class="navbar-menu-resources-box-title">Tetra</h5><div class="navbar-menu-resources-box-bottom flex-center"><img src="../assets/img/navbar/menu/tetra.svg" class="navbar-menu-resources-box-icon" alt="orbs resource"/><p class="navbar-menu-resources-box-text text-overflow">Orbs Staking Wallet</p></div></a></li><li class="navbar-menu-resources-box flex-column list-item"><a href="https://analytics.orbs.network" class="flex-column" rel="noopener" target="_blank"><h5 class="navbar-menu-resources-box-title">Analytics</h5><div class="navbar-menu-resources-box-bottom flex-center"><img src="../assets/img/navbar/menu/analytics.svg" class="navbar-menu-resources-box-icon" alt="orbs resource"/><p class="navbar-menu-resources-box-text text-overflow">Orbs Universe Analytics</p></div></a></li><li class="navbar-menu-resources-box flex-column list-item"><a href="http://status.orbs.network/" class="flex-column" rel="noopener" target="_blank"><h5 class="navbar-menu-resources-box-title">Network Status</h5><div class="navbar-menu-resources-box-bottom flex-center"><img src="../assets/img/navbar/menu/status.svg" class="navbar-menu-resources-box-icon" alt="orbs resource"/><p class="navbar-menu-resources-box-text text-overflow">Orbs Network Status Page</p></div></a></li><li class="navbar-menu-resources-box flex-column list-item"><a href="https://orbs-network.github.io/v1-snapshot/" class="flex-column" rel="noopener" target="_blank"><h5 class="navbar-menu-resources-box-title">V1 Rewards</h5><div class="navbar-menu-resources-box-bottom flex-center"><img src="../assets/img/navbar/menu/v1.svg" class="navbar-menu-resources-box-icon" alt="orbs resource"/><p class="navbar-menu-resources-box-text text-overflow">PoS V1 Legacy</p></div></a></li><li class="navbar-menu-resources-box flex-column list-item"><a href="https://vcs.orbs.network/" class="flex-column" rel="noopener" target="_blank"><h5 class="navbar-menu-resources-box-title">VC Portal</h5><div class="navbar-menu-resources-box-bottom flex-center"><img src="../assets/img/navbar/menu/vc.svg" class="navbar-menu-resources-box-icon" alt="orbs resource"/><p class="navbar-menu-resources-box-text text-overflow">Orbs Virtual Chains</p></div></a></li><li class="navbar-menu-resources-box flex-column list-item"><a href="https://orbs.flipsidecrypto.com/" class="flex-column" rel="noopener" target="_blank"><h5 class="navbar-menu-resources-box-title">Community Console</h5><div class="navbar-menu-resources-box-bottom flex-center"><img src="../assets/img/navbar/menu/vc.svg" class="navbar-menu-resources-box-icon" alt="orbs resource"/><p class="navbar-menu-resources-box-text text-overflow">On-chain metrics</p></div></a></li><li class="navbar-menu-resources-box flex-column list-item"><a href="https://orbsdefi.com/" class="flex-column" rel="noopener" target="_blank"><h5 class="navbar-menu-resources-box-title">DeFi Portal</h5><div class="navbar-menu-resources-box-bottom flex-center"><img src="../assets/img/navbar/menu/defi.svg" class="navbar-menu-resources-box-icon" alt="orbs resource"/><p class="navbar-menu-resources-box-text text-overflow">Real-time DeFi data</p></div></a></li><li class="navbar-menu-resources-box flex-column list-item"><a href="https://www.stakingrewards.com/earn/orbs" class="flex-column" rel="noopener" target="_blank"><h5 class="navbar-menu-resources-box-title">Staking calculator</h5><div class="navbar-menu-resources-box-bottom flex-center"><img src="../assets/img/navbar/menu/calculator.svg" class="navbar-menu-resources-box-icon" alt="orbs resource"/><p class="navbar-menu-resources-box-text text-overflow">By Staking Rewards</p></div></a></li><li class="navbar-menu-resources-box flex-column list-item"><a href="https://prism.orbs.network/" class="flex-column" rel="noopener" target="_blank"><h5 class="navbar-menu-resources-box-title">Prism</h5><div class="navbar-menu-resources-box-bottom flex-center"><img src="../assets/img/navbar/menu/prism.svg" class="navbar-menu-resources-box-icon" alt="orbs resource"/><p class="navbar-menu-resources-box-text text-overflow">Orbs block explorer</p></div></a></li></ul></section></div></div></div></div></div></div><main class="single-blog page-padding-top"><div class="blog-element" data-url="." data-image="../assets/img/blog/monitoring-the-orbs-platform/bg.jpg" data-title="Monitoring the Orbs Platform" data-prefix="On" data-date="May 13, 2019"><div class="single-blog-header"><h1 class="single-blog-header-title">Monitoring the Orbs Platform</h1><div class="single-blog-header-author-flex"><div class="single-blog-header-author flex-start"><section class="blog-author-details flex-start"><p  class='text-p'><figure class='image'><img src="../assets/img/team/members/small/Ido.jpg" alt="Ido Zilberberg"></figure>
<a href="https://www.linkedin.com/in/idozilberberg/"title="link" rel="noopener" target='_blank'>Ido Zilberberg</a></p></section><small>|</small><p class="blog-hedaer-date">2 years ago</p></div><div class="blog-share flex-start"><a href="https://t.me/share/url?url=https://www.orbs.com/monitoring-the-orbs-platform" target="_blank"><img src="../assets/img/socials/telegram.svg"/></a><a href="http://twitter.com/share?url=https://www.orbs.com/monitoring-the-orbs-platform" target="_blank"><img src="../assets/img/socials/twitter.svg"/></a></div></div></div><figure class="single-blog-bg"><img src="../assets/img/blog/monitoring-the-orbs-platform/bg.jpg" alt="blog"/></figure><div class="single-blog-body"><div class="single-blog-body-grid"><p  class='text-p'>This update will elaborate on pre-Production load testing, and post-Production performance monitoring. Both use cases employ the Orbs monitoring dashboard as a key component.</p><p  class='text-p'>In the weeks leading up to our planned launch, we were running stability tests on various network configurations. Our purpose was twofold: identify bugs that manifest themselves only after a long time the system has been online, and test the load limits of the system.</p><p  class='text-p'>We wanted to share the progress of stability tests with the whole team, so we decided to create a Dashboard that would be posted on a TV at the office, where everyone can see real-time metrics of the running tests.</p><p  class='text-p'>The requirement was to let everyone have a casual glance once in a while and immediately spot anomalies. Digging deeper into problems is left to other tools.</p><p  class='text-p'>As a starting point, we already had a <strong>/metrics</strong> endpoint on the Orbs node, that prints out the node&#39;s metrics in JSON format. For example, see the <a href="http://validator.orbs.com/vchains/1100000/metrics" rel="noopener" target='_blank'>Orbs Audit node metrics</a>.</p><p  class='text-p'>Below, you can see sample metrics on our validator node in Production - It shows the current block height as 452631:</p><p  class='text-p'><figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform/image4-1.png" alt=""></figure> <figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform/image5-1.png" alt=""></figure> <figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform/image7.png" alt=""></figure></p><p  class='text-p dots'>&middot;&middot;&middot;</p><p  class='text-p'>For the presentation layer, we checked several dashboard solutions: <a href="https://www.geckoboard.com/learn/dashboard-examples/" rel="noopener" target='_blank'>Geckoboard</a> is a great looking dashboard especially on a TV screen and if your use case is covered by what it supports out of the box, it is highly recommended. In our case we needed some features which were not available, such as displaying a time frame of less than 1 day, and the ability to perform calculations over the data directly in the dashboard.</p><p  class='text-p'>Another solution we tried is <a href="https://www.datadoghq.com/" rel="noopener" target='_blank'>DataDog</a>, which showed initial promise as it supports scraping JSON metrics directly from a URL, and performing calculations over it. However we were not satisfied with the visual quality when displayed on a TV screen (specifically the lack of a Dark Mode), and decided to keep looking.</p><p  class='text-p'>Eventually, we decided to use the <a href="https://grafana.com/cloud#pricing" rel="noopener" target='_blank'>Standard Plan of Grafana Cloud</a> with a Prometheus backend for these reasons:</p><ol>
<li>Hosted solution - no need to maintain a Grafana server</li>
<li>Renders beautifully on a TV screen</li>
<li>Flexible in performing calculations over incoming data in realtime (together with Prometheus).</li>
</ol>
<p  class='text-p'>Grafana is a presentation layer only, and can receive data from multiple data sources, in our case it was either from Prometheus or Graphite - both of which are industry standards for a Time Series Database (TSDB). Since Prometheus has client libraries for both Go and Javascript we went along with it.</p><p  class='text-p'>As for the actually displaying data, we started with a TV monitor attached to an off the shelf Android TV device, but it turned out that several browsers we tested on the Android TV did not render correctly any of our tested dashboards, and it was not possible to disable the screen saver and have it load the dashboard on startup without hacking the device.</p><p  class='text-p'>So we decided to go with a Raspberry PI B+ v3 which is a mean little machine, capable of rendering the graphs without a hitch. Since it&#39;s a Linux machine and has wide community around it, it was easy to find solutions and guides on how to set up Grafana to our liking.</p><p  class='text-p'>Here is our real monitoring TV (complete with window-glare):</p><p  class='text-p'><figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform/image2-1.png" alt=""></figure></p><h2 id="dashboard"  class='title-h2 sub-title'
    >Dashboard</h2>
<p  class='text-p'>Let&#39;s go over the monitoring architecture we eventually came up with:</p><p  class='text-p'><figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform/image8.png" alt=""></figure></p><p  class='text-p'>In our test networks, the <strong>Orbs Nodes</strong> are our own machines on AWS. On Production, they are managed by their respective owners. Most of them are on AWS but it matters not, as long as their <strong>/metrics</strong> endpoint is accessible.</p><p  class='text-p'>The <a href="https://github.com/orbs-network/metrics-processor" rel="noopener" target='_blank'>metrics processor</a> is a Node.js server running on an AWS machine. It passively listens on requests on its own <strong>/metrics</strong> endpoint and when called, executes HTTP POST requests to <strong>/metrics</strong> of every node, collects the metrics and converts to Prometheus format and returns the data.</p><p  class='text-p'>Conversion to Prometheus format is done with the help of a <a href="https://github.com/siimon/prom-client" rel="noopener" target='_blank'>Node.js Prometheus client library</a>.</p><p  class='text-p'>We use <a href="https://pm2.io/doc/en/runtime/overview/" rel="noopener" target='_blank'>pm2</a> to make sure metrics-processor stays up in the event of a machine restart. We use an <a href="https://github.com/orbs-network/metrics-processor/blob/master/pm2/ecosystem.config.js" rel="noopener" target='_blank'>ecosystem file</a> to configure it.</p><p  class='text-p'>We initially planned to configure the Hosted Grafana&#39;s Prometheus Database to periodically sample the metrics-processor but unfortunately it is a passive-only solution, meaning you have to <strong>push data into it</strong> rather than have it actively scrape targets (such as the metrics processor) to <strong>pull data</strong>.</p><p  class='text-p'>The solution was to create a <strong>second Prometheus database</strong> to act as a bridge. We do not need to store data on that Prometheus - its only purpose in life is to <strong>periodically pull data</strong> from metrics-processor and <strong>push it to the Hosted Prometheus</strong>.</p><p  class='text-p'>For the Prometheus bridge, we use a predefined <a href="https://hub.docker.com/r/prom/prometheus/" rel="noopener" target='_blank'>Prometheus Docker image</a> with some simple <a href="https://github.com/orbs-network/metrics-processor/blob/master/prometheus/prometheus.yml" rel="noopener" target='_blank'>configuration</a>. It runs on the same AWS machine as the metrics-processor and has automatic restart configured for it, so if the machine restarts, Prometheus will start automatically. So while it is a somewhat unwanted addition to the architecture, it requires very little maintenance.</p><p  class='text-p'>The Hosted Prometheus on the Grafana Cloud is where the <strong>actual metrics data is stored</strong>, so all tests data (and now Production data) is easily presentable on Grafana.</p><h3 id="we-created-two-main-dashboards-"  class='title-h3'
    >We created two main dashboards:</h3>
<p  class='text-p'>An &quot;<strong>Orbs Production</strong>&quot; dashboard, whose purpose is a high-level view, suitable for TV display, for casual glances once in a while to see everything &quot;looks right&quot;.</p><p  class='text-p'>Sample of the Orbs Production dashboard:</p><p  class='text-p'><figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform/image1-1.png" alt=""></figure> An &quot;<strong>Orbs DevOps</strong>&quot; dashboard which contains a lot more information, useful when starting to go deeper when some problem is suspected.</p><p  class='text-p'>Sample of the Orbs DevOps dashboard:</p><p  class='text-p'><figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform/image6.png" alt=""></figure></p><p  class='text-p'>We plan to introduce a Prometheus Go client library into the Orbs node to allow it to output its metrics directly in Prometheus format in addition to the existing JSON format.</p><h2 id="stability-tests"  class='title-h2 sub-title'
    >Stability tests</h2>
<p  class='text-p'>During the last month before launch, we continuously ran long-running tests (&quot;stability tests&quot;) with the sole purpose of spotting bugs which manifest themselves only after some time the system has been running. We suspected some bugs eluded us on our otherwise very well tested code - we have a suite of unit, component and integration tests and the whole system was written with strict adherence to TDD principles.</p><p  class='text-p'>Typical stability configuration was a 22-node network (our expected max nodes in Production) with about 10 transactions per second (tps) using the Lean Helix consensus algorithm and the proposed <a href="https://github.com/orbs-network/orbs-network-go/blob/master/config/system_factory_presets.go#L17" rel="noopener" target='_blank'>Production configuration</a>. We did not try to optimize performance, nor hit resource bounds - only detect anomalies resulting from prolonged runtime. We did discover and fix a memory leak due to some goroutines not terminating, which could not have been otherwise detected.</p><p  class='text-p'>The method of testing was to let the test run, track it with the dashboards described above, and if some anomaly came up, enable logs on one or more machines and investigate using <a href="https://logz.io/" rel="noopener" target='_blank'>logz.io</a>.  Error logs are written to logz.io by default but the Info logs are not, as they are very verbose.</p><p  class='text-p'>Logz.io takes a log line and extracts properties in addition to the basic message. This lets you filter over properties, for example show messages only from node &quot;fca820&quot;, or messages for block-height 1 and so forth. When debugging a flow of activity, enabling various filters on properties such as those is essential for making sense of the large amount of logs generated.</p><p  class='text-p'>Here is a sample log line with properties:</p><p  class='text-p'><figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform/image5-1.png" alt=""></figure></p><h2 id="load-tests"  class='title-h2 sub-title'
    >Load tests</h2>
<p  class='text-p'>The purpose of load testing is to identify load limitations of specific network configuration. This takes place after stability tests are completed. The monitoring of load tests is identical to that described above. Our <strong>Load Generator</strong> is a <a href="https://github.com/orbs-network/performance-benchmark" rel="noopener" target='_blank'>Go process</a> that uses the <a href="https://github.com/orbs-network/orbs-client-sdk-go" rel="noopener" target='_blank'>Orbs Client SDK in Go</a> to generate the load.</p><p  class='text-p'>The load generator process sends out transactions at some rate (transactions per second - <strong>tps</strong>), split evenly between all machine. Its present implementation is to send out a burst of <strong>n</strong> tps, then sleep for a second, then repeat. This is not exactly how sending at specific tps should work, and we plan to improve on this implementation.</p><p  class='text-p'>We tested on 3 different network configurations:</p><ol>
<li><p  class='text-p'><strong>4-node</strong> network on the <strong>same AWS region</strong> (m4.xlarge in us-east-2)</p></li>
<li><p  class='text-p'><strong>8-node</strong> network on the <strong>same AWS region</strong> (m4.xlarge in us-east-2 and us-east-1). Same as #1, only more nodes.</p></li>
<li><p  class='text-p'><strong>15-node network</strong> - actual production nodes (m4.xlarge, <strong>multi-region</strong>)</p><p  class='text-p'>These are the <strong>actual production machines</strong>, operated by the Validators. The test ran on a <strong>separate virtual chain</strong> than the production virtual chain. This means it ran on the same AWS EC2 machines as Production, but on different Docker containers (each virtual chain runs on <strong>its own Docker container</strong>) so the Production virtual chain is not polluted with load test inputs.</p></li>
</ol>
<h3 id="results"  class='title-h3'
    >Results</h3>
<p  class='text-p'>The detailed results can be found below. Based on the results, we have concluded the following:</p><ol>
<li>Our present load test configuration is <strong>network-bound</strong>. At higher tps rates the Load Generator starts to receive HTTP 503 &quot;Service not available&quot; and other errors. We suspect this is related to limitations inherent to the Docker version we are using, though this is still under investigation. The 4-node network was bound by about 400 tps (100 tps per node). Going above it simply generated multiple errors on the client side and had reduced effect on the nodes (they simply did not process &gt;100 tps).</li>
<li>We moved to an 8-node network to reduce per-machine tps load. This allowed for increased tps (about 500tps almost without errors). Remember that the more nodes, the more traffic goes between nodes due to each node conversing with all other nodes during flows of transaction forwarding, node sync and consensus. This explained why we cannot double the tps by doubling node count. We plowed through and increased the load, and <strong>eventually managed to reach 912 tps of committed transactions</strong> - that is <strong>transactions in blocks that passed consensus</strong>. If we want to stay with a negligible error rate on the client side, we are content to use the 500tps as the upper bound of such a network. Once we resolve this network limit we expect to observe an increase in tps limit, as we could not detect any other bound even when having reached 912 tps.</li>
<li><strong>Production configuration (the real 15-node network) showed 200 tps running smoothly</strong>. We did not press it further at that time, so as not to affect the Production virtual chain, and because a Validator Election event was due soon after the test was concluded and we did not want to put it at risk either.</li>
<li><strong>CPU and Disk I/O were not limiting factors</strong> in any of these tests - CPU never exceeded 25% even at max tps, and disk I/O was about 200 Kb/s max.</li>
<li><strong>Blocks per second (as committed by Consensus) was not a limiting factor</strong> during the tests. Initially when tps went up, the rate of blocks/sec went up as well. However, when tps kept going up, the blocks/sec rate peaked and then <strong>started declining</strong>. We assume the reason for this is the higher load meant new blocks contain more transactions because more transactions wait in the Transaction Pool&#39;s pending pool when a new block collects them, so new blocks are larger and consequently take longer to pass around the network (and consequently by the time the next block needs to be generated, there are even more transactions waiting for it, and so on and so forth).</li>
<li><strong>When load resumed 100tps, the system resumed normal behavior</strong> - it did not crash or go into some unstable state due to the very high load previously sustained.</li>
<li>On higher tps the dashboard showed very jittery data (see graph below). We suspect this to be an artifact of the monitoring architecture, not actual jittery behavior. At times, monitoring data stopped being read (even crawling <strong>/metrics</strong> manually sometimes returns HTTP 500 error) so naturally, the dips in the graph are unreliable)</li>
</ol>
<p  class='text-p'><figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform/image3-1.png" alt=""></figure></p><p  class='text-p'>Detailed results (posted here as raw data from a single load test, take with a grain of salt):</p><p  class='text-p'><strong>4-Node Network</strong></p><p  class='text-p'><figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform1.png" alt=""></figure></p><p  class='text-p'><strong>8-Node Network</strong></p><p  class='text-p'><figure class='image'><img src="../assets/img/blog/monitoring-the-orbs-platform2.png" alt=""></figure></p><p  class='text-p dots'>&middot;&middot;&middot;</p><p  class='text-p'>Going forward, we plan to integrate Prometheus metrics right from the node itself, thereby omitting the JSON to Prometheus conversion, and allowing us to generate histograms right in the node itself.</p></div></div></div><div class="single-blog-bottom"><h3 class="single-blog-bottom-title">Get involved</h3><div class="single-blog-bottom-flex flex-between"><div class="single-blog-bottom-flex-item flex-column"><img src="../assets/img/blog-inner/logo.svg" alt="orbs logo"/><h4>White papers</h4><a href="../white-papers" target="_blank">Read the Orbs white papers</a></div><div class="single-blog-bottom-flex-item flex-column"><img src="../assets/img/blog-inner/github.svg" alt="github icon"/><h4>GitHub Repo</h4><a href="https://github.com/orbs-network" target="_blank">Review the code &amp; contribute</a></div><div class="single-blog-bottom-flex-item flex-column"><img src="../assets/img/blog-inner/documents.svg" alt="document icon"/><h4>Documentation</h4><a href="https://docs.orbs.network/contract-sdk" target="_blank">Developer documentation</a></div></div></div></main><div class="subscribe" style="display:none"><section class="subscribe-overlay"></section><form class="subscribe-form form"><button type="button" class="form-close-btn" aria-label="Close"><img src="../assets/img/common/close.svg" alt="close"/></button><h3 class="form-title">SUBSCRIBE FOR UPDATES</h3><div class="form-content flex-column"><div class="form-success" style="background:#191919"><p  class='text-p'>Amazing! Thank you for subscribing</p></div><h4 class="form-sub-title">Sometimes we have interesting announcements to tell you... don&#x27;t miss out!</h4><div class="form-inputs flex-between"><section class="form-input"><label for="First Name">First Name</label><input type="text" data-type="text" data-required="true" placeholder="Enter your name here" name="First Name" class="form-input-first-name"/><aside class="form-input-first-name-error form-error">Please fill the input</aside></section><section class="form-input"><label for="Email">Email</label><input type="text" data-type="email" data-required="true" placeholder="Your Email" name="Email" class="form-input-email"/><aside class="form-input-email-error form-error">Please fill the input</aside><aside class="form-input-email-validation-error form-error">Please insert valid Email</aside></section></div><div class="form-submit-container"><input type="submit" value="Subscribe" class="form-submit"/><div class="lds-ellipsis loader"><div></div><div></div><div></div><div></div></div></div></div></form></div><div class="gdpr"><p  class='text-p'>We use cookies to ensure that we give you the best experience on our website. By continuing to use our site, you accept our <a href="https://aave.com/cookie-policy"title="link" rel="noopener" target='_blank'>cookie policy</a>.</p><div class="gdpr-btns"><button class="gdpr-accept" aria-label="accept">accept</button><button class="gdpr-reject" aria-label="reject">reject</button></div></div><script type="module" src="../assets/js/blog/index.js"></script><footer class="footer"><div class="main-grid"><div class="footer-flex"><section class="footer-logo-section"><img src="../assets/img/common/logo.svg" class="footer-logo"/><p  class='text-p'>Combining scalability, low fees and isolation between virtual chains with a first-grade developer experience, online IDE and smart contracts in familiar languages, Orbs provide developers the perfect mix of performance, cost, security and ease of use.</p><p  class='text-p'><a href="mailto:hello@orbs.com"title="email" class='email-link' rel="noopener">hello@orbs.com</a></p></section><div class="footer-blogs"><section class="footer-section-title"><h4>Latest Blog Posts</h4></section><ul class="footer-blog-list">/blog/orbs-is-live-on-google-cloud/blog.md/blog/when-decentralized-finance-meets-the-traditional-system/blog.md</ul></div><div class="footer-tweets"><section class="footer-section-title"><img src="../assets/img/socials/twitter.svg"/><h4>latest tweets</h4></section><div class="footer-tweets-content"><a class="twitter-timeline" data-theme="dark" href="https://twitter.com/orbs_network?ref_src=twsrc%5Etfw"></a></div></div></div></div><section class="footer-navigation"><div class="main-grid flex-start"><div class="footer-navigation-section footer-navigation-overview"><div class="footer-navigation-desktop-links"><h3 class="footer-navigation-links-title">Overview</h3><div class="footer-navigation-links-list"><a href="../network" rel="noopener">the orbs network</a><a href="../smart-contracts" rel="noopener">orbs smart contracts</a><a href="../pos-universe" rel="noopener">proof of stake universe</a></div></div><div class="footer-navigation-mobile"><h3 class="footer-navigation-mobile-title">Overview</h3><div class="footer-navigation-mobile-list"><a href="../network" rel="noopener">the orbs network</a><a href="../smart-contracts" rel="noopener">orbs smart contracts</a><a href="../pos-universe" rel="noopener">proof of stake universe</a></div></div></div><div class="footer-navigation-section footer-navigation-resources"> <div class="footer-navigation-desktop-links"><h3 class="footer-navigation-links-title">Resources</h3><div class="footer-navigation-links-list"><a href="https://staking.orbs.network/" rel="noopener" target="_blank">Tetra</a><a href="https://analytics.orbs.network" rel="noopener" target="_blank">Analytics</a><a href="http://status.orbs.network/" rel="noopener" target="_blank">Network Status</a><a href="https://orbs-network.github.io/v1-snapshot/" rel="noopener" target="_blank">v1 rewards</a><a href="https://vcs.orbs.network/" rel="noopener" target="_blank">VC</a><a href="https://orbs.flipsidecrypto.com/" rel="noopener" target="_blank">community console</a><a href="https://orbsdefi.com/" rel="noopener" target="_blank">DeFi Portal</a><a href="https://www.stakingrewards.com/earn/orbs" rel="noopener" target="_blank">Staking Calculator</a><a href="https://prism.orbs.network/" rel="noopener" target="_blank">Prism</a></div></div><div class="footer-navigation-mobile"><h3 class="footer-navigation-mobile-title">Resources</h3><div class="footer-navigation-mobile-list"><a href="../https:/staking.orbs.network" rel="noopener">Tetra</a><a href="../https:/analytics.orbs.network" rel="noopener">Analytics</a><a href="../http:/status.orbs.network" rel="noopener">Network Status</a><a href="../https:/orbs-network.github.io/v1-snapshot" rel="noopener">v1 rewards</a><a href="../https:/vcs.orbs.network" rel="noopener">VC</a><a href="../https:/orbs.flipsidecrypto.com" rel="noopener">community console</a><a href="../https:/orbsdefi.com" rel="noopener">DeFi Portal</a><a href="../https:/www.stakingrewards.com/earn/orbs" rel="noopener">Staking Calculator</a><a href="../https:/prism.orbs.network" rel="noopener">Prism</a></div></div></div><div class="footer-navigation-section footer-navigation-about"><div class="footer-navigation-desktop-links"><h3 class="footer-navigation-links-title">About</h3><div class="footer-navigation-links-list"><a href="../white-papers" rel="noopener">White papers</a><a href="../team" rel="noopener">Team</a><a href="../ecosystem" rel="noopener">Ecosystem</a><a href="../faq" rel="noopener">FAQ</a><a href="../blog" rel="noopener">Blog</a><a href="../contact" rel="noopener">Contact us</a></div></div><div class="footer-navigation-mobile"><h3 class="footer-navigation-mobile-title">About</h3><div class="footer-navigation-mobile-list"><a href="../white-papers" rel="noopener">White papers</a><a href="../team" rel="noopener">Team</a><a href="../ecosystem" rel="noopener">Ecosystem</a><a href="../faq" rel="noopener">FAQ</a><a href="../blog" rel="noopener">Blog</a><a href="../contact" rel="noopener">Contact us</a></div></div></div></div></section><div class="footer-bottom flex-between main-grid"><section class="footer-bottom-policy"><p  class='text-p'><a href="https://github.com/orbs-network/orbs-spec/blob/master/NETWORK-TOU.md" rel="noopener" target='_blank'>Terms Of Use</a> · <a href="../privacy-policy" rel="noopener">Privacy Policy</a></p></section><section class="flex-center footer-bottom-form-wrapper"><ul class="socials"><li class="socials-element"><a href="https://twitter.com/orbs_network" target="_blank" rel="noopener"><img src="../assets/img/socials/twitter.svg"/></a></li><li class="socials-element"><a href="https://t.me/OrbsNetwork" target="_blank" rel="noopener"><img src="../assets/img/socials/telegram.svg"/></a></li><li class="socials-element"><a href="https://discord.gg/sswGDYGBt5" target="_blank" rel="noopener"><img src="../assets/img/socials/discord.svg"/></a></li><li class="socials-element"><a href="https://github.com/orbs-network/" target="_blank" rel="noopener"><img src="../assets/img/socials/github.svg"/></a></li></ul></section></div></footer><button class="scroll-top"><img src="../assets/img/common/up.svg"/></button></div></body></html>